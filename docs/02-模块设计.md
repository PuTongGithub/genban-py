# 模块设计

## 模块划分

### 1. 前端接口模块 (portal)

**职责**：实现与外部系统的对接，包括 web 页面和 IM 机器人

**核心组件**：

| 组件 | 说明 |
|------|------|
| web | 向 web 前端提供 REST API 接口 |
| im | 实现各类 IM 机器人的对接（如钉钉、微信等） |

---

### 2. 模型调用模块 (hub)

**职责**：收拢 AI 模型接口的调用，实现不同模型的调用逻辑，并将模型响应统一处理为内部实体

**核心功能**：
- 多模型适配调用
- 响应结果统一封装

---

### 3. 配置管理模块 (config)

**职责**：统一管理各类配置，包括应用配置、环境变量、提示词管理等

**核心组件**：

| 组件         | 说明                           |
| ---------- | ---------------------------- |
| env_config | 载入环境变量，获取敏感信息配置（例如：api_key等） |
| app_config | 载入应用配置toml文件，维护应用相关配置信息      |
| prompts    | 载入提示词配置toml文件，维护各模块所用的提示词信息  |

---

### 4. 助手内核模块 (kernel)

**职责**：AI 助手能力的核心逻辑实现

**核心组件**：

| 组件     | 说明                            | 参考      |
| ------ | ----------------------------- | ------- |
| host   | AI助手主流程逻辑组件，向外部提供助手能力         |         |
| tools  | 维护基础工具的调用逻辑                   | MCP协议   |
| memory | 实现记忆管理，包括短期记忆和长期记忆            | MIRIX架构 |
| frame  | Agent 调度框架，实现多 Agent 任务的管理和调度 |         |
| skills | 提供创建、维护以及使用技能的能力              | SKILLS  |
